# C++概述

C++： 面向对象的语言

**核心：效率**

学习方法：
    - 预习
    - 上课听
    - 做笔记、总结
    - 下课看笔记、总结
    - 敲代码 一遍 获取 mind
    -  while(mind != 懂) 
    {
     敲代码；
     做标记、注释;
     看笔记;
     看视频;
    }
    
注意： 不要花时间去找bug！！！ (尤其是 低级bug)

学习方法：
了解 —— 了解即可，不要去钻研，后面会进行讲解
掌握 —— 会敲出来
重点 —— 记忆背诵

## 解释说明
c++ 在 c 的基础上增加了 **面向对象编程** 和 **泛型编程** 
面向对象 ——> 对象 ——> 类定义的变量 ——> 结构体
泛型 ——> 形参 ——> 允许传入不同类型的形参



hello world
```cpp
#define _CRT_SECURE_NO_WARNINGS
#include<iostream>
using namespace std;//标准命名空间

int main()
{
    //cout 是标准的输出流对象，打印字符串
    //endl 是刷新缓冲区，并换行，也是个对象
    cout << "hello world!" << endl;
    system("pause");
    return EXIT_SUCCESS;
}
```



## 面向对象三大特征(了解)
1. 封装
    - 将对象封装成抽象的类
    - 将数据和方法封装在内部
    - 类可以设置访问权限
2. 继承
    - 继承另一类对象的特征和能力，进行拓展
    - 避免代码重复、冗余
3. 多态
    - 不同对象的类形成的 状态
    - 一种接口，多种方法
    


## 命名空间 (掌握)
c++ 库的调用 通过命名空间
c++ 不会默认加声明 (int a 即是定义变量)

注意事项：
- 命名空间变量是全局的，不能重复定义
- 只能在全局定义
- 开放的、可以随时加入新成员
    - 新成员仅在 加入后 可被使用
- 可以嵌套命名空间
- 匿名命名空间
    - 没有同名变量时，相当于全局变量
    - 有同名全局变量时，全部变量优先级高于匿名空间
- can be given an alias  命名空间取别名
- 使用命名空间函数
    - 定义时 加上命名空间名和作用域
    - 使用时 加上命名空间名和作用域

```cpp
namespace Maker
{
    int a;
    namespace B
    {
        int b;
    }
}

namespace Maker
{
    int c;
}

// 匿名命名空间 anonymous name space
namespace
{
    int d = 50;
}
// it can be used directly on the same directory
// but it can't be used by other project 
// just like the use of static
// in oder to avoid using same variable name or mustn't others to use this namespace


//Giving an alias to namespace
void test01()
{
    // new name and old name
    namespace nameMaker = Maker;
    cout << nameMaker: :a << endl;
}

```

## 作用域运算符     （掌握)
作用： 访问作用域里面的成员

空 : : 变量名 —— 访问全局变量名
命名空间名 : : 变量名 —— 访问命名空间中变量名
命名空间名 : : 命名空间名 : : 变量名 —— 访问嵌套命名空间中的变量名



## using 编译指令     (掌握)
两种用法：全局用法、局部用法
using
- + 命名空间::变量 —— 以局部变量使用   等同于 作用域内的宏替换     (不可以定义同名变量)
- + 命名空间 —— 以全局变量使用命名空间    (可以定义同名局部变量)



## 对 C语言 结构体的加强  （重点)
1. 使用结构体定义变量时，不需要加 struct
2. 结构体可以写函数的实现


## 更加严格的类型转换检查 (了解)
1. 不能进行隐式转换
2. 只能使用显示转换


## 三目运算符 (了解)
**左右值 **了解补充：
*可以寻址，赋值*
左值：Lvalue —— Location value   空间  

*常量值*
右值：Rvalue —— Read value         数值


C语言传的是右值 
C++传的是左值

例子(修改判断的值):
```c
int a = 10;
int b = 20;
*(a > b ? &a : &b)=200;
printf("a = %d b = %d", a, b);
```

```cpp
int a = 10;
int b = 20;
(a > b ? a : b) = 200;
cout << "a = " << a << " b = " << b;
```


## -const修饰的变量 (C语言/C++)

### C
空间：均开辟空间

c语言 const特性

|作用域|全局|局部|
|---|---|---|
|属性|外部链接|内部链接|

### C++
c++ const特性

没有空间的条件：
1. 没有常量折叠
2. 没有对变量进行取地址操作

全局：
- 空间：没有内存
- 常量折叠(编译器优化机制，打印的时候 用常量替换变量(变量值改变后，仍用原来的常量替换) 追加在使用代码上)
- 链接：默认 内部链接    加上extern关键字并初始化 外部链接 extern const val = 0;

局部：
- 空间：有内存
- 常量折叠
- 内部链接
- volatile 禁止优化  (不优化时 返回的变量地址是 布尔类型   ，真1 假0)
- 

测试： 
1. volatile 是否禁止常量折叠机制  
是
2. 默认const定义变量 是否开辟空间
是


## const 不能优化的情况
1. 用变量做 右值 进行赋值  (局部)      [全局修饰的是常量，本身就不能修改]
2. 使用自定义类型
3. 编译器 在编译阶段进行优化
    - 编译阶段是 转为汇编语言、检查语法错误的阶段 

拓展：构造函数;
        - 在结构体内使用结构体名做函数
        - 可以提前使用变量
        
小结：
1. 结构体内变量与外面变量不冲突，作用域
2. 构造函数 嵌套在结构体内的 同名函数


## 引用的常见应用场景
1. 函数作为左值，用作返回值
2. 作为函数参数，方便传实参地址