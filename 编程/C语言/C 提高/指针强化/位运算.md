# 位运算

## 按位取反 ~

**计算原则：真假交替**

```   
**~(**10011010**)**
      01100101
```

l 两个用补码表示的数相加时，如果最高位(符号位)有进位，则进位被舍弃

> 计算机的原码、反码、补码的应用机制[](#计算机的原码、反码、补码的应用机制)

**赋值时(输入),十进制 - 给原码。八进制或十六进制 - 给补码。—— 给的一开始就视为补码，不需要计算。  
\[有符号数越界溢出时，则被计算机识别为补码\]**

**打印时(输出),十进制 - 给原码。八进制或十六进制 - 给补码。**


## 按位与 &

**计算原则：同真为真，其他为假。**

```
   (10010011) 
 & (00111101) 
 = (00010001)
C也有一个组合的位与-赋值运算符：&=。下面两个将产生相同的结果：
val &= 0377
val = val & 0377

```


用途：
* 可以用来判断奇偶
    * num & 1 == 1; 满足条件为 奇数，不满足为 偶数
* 可以任意置位 0    


## 按位或 |

**计算原则：同假为假，其它为真**

```
	(10010011)
  | (00111101)
  = (10111111)
C也有组合位或-赋值运算符： |=
val |= 0377
val = val | 0377

```


用途：
* 可以任意置位 1


## 按位异或 ^

**计算原则：不同为真，相同为假**

```
	(10010011)
  ^ (00111101)
  = (10101110)
C也有一个组合的位异或-赋值运算符： ^=
val ^= 0377
val = val ^ 0377

```


用途：
* 三角数字 —— 可以通过两个数字得出 第三个数字
    * 用于两个数值变量的替换
        * num1=num1 ^ num2;   // 数值 1，2异或得 3
        * num2=num1 ^ num2;   // 数值 3，2异或得1
        * num1=num1 ^ num2;   // 数值1，3异或得2
        


# 移位运算符

依赖于机器(硬件)，高效完成对 2的幂次 的乘除。




## 左移 <<

左移 n 位 ，乘以 2 的 n次幂

```
(10001010) << 2
(00101000)
	该操作将产生一个新位置，但是不改变其操作数。
	
1 << 1 = 2;
2 << 1 = 4;
4 << 1 = 8;
8 << 2 = 32

```

## 右移 >>

右移 n 位，除以 2 的 n次幂

* 有符号右移时，如果为负数
    * 有时会填充 1
    * 有时会填充 0
    * 依赖于硬件
* 正数填充 0

```
//有符号值
(10001010) >> 2
(00100010)     //在某些系统上的结果值

(10001010) >> 2
(11100010)     //在另一些系统上的结果

//无符号值
(10001010) >> 2
(00100010)    //所有系统上的结果值

```